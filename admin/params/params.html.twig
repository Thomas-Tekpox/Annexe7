{% extends "admin/admin-base.html.twig" %}

{% block stylesheets %}
<link rel="stylesheet" type="text/css"
    href="https://cdn.datatables.net/v/bs5/jq-3.6.0/jszip-2.5.0/dt-1.11.5/af-2.3.7/b-2.2.2/b-colvis-2.2.2/b-html5-2.2.2/b-print-2.2.2/date-1.1.2/fh-3.2.2/r-2.2.9/sb-1.3.2/sp-2.0.0/sl-1.3.4/datatables.min.css" />
{% endblock %}


{% block content %}
<h2>Getion des paramètres</h2>
<div class="container-fluid">
    <!-- -------------------------------------------------------------- -->
    <!-- Start Page Content -->
    <!-- -------------------------------------------------------------- -->
    <!-- .row -->
    <div class="row">
        <div class="col-sm-12">
            <!-- ---------------------
                            start Default Basic Forms
                        ---------------- -->
            <!-- Success -->
            {% for msg in app.session.flashBag.get('success') %}
            <div class="alert alert-success">
                {{ msg }}
            </div>
            {% endfor %}
            <!-- DataTables -->
            <div class="card">
                <div class="border-bottom title-part-padding d-flex flex-row justify-content-start align-items-center">
                    <h4 class="card-title mb-0">Paramètres</h4>
                    <a href="{{ path('adminParamsAdd') }}" class="btn px-4 rounded-pill btn-info mx-4"
                        role="button">Ajouter un paramètre</a>
                </div>
                <div class="card-body">
                    <div class="table-responsive dataTables_wrapper">
                        <table id="myTable" class="table table-striped table-bordered text-nowrap">
                            <thead>
                                <!-- start row -->
                                <tr>
                                    <th class="sorting">Groupe</th>
                                    <th class="sorting">Clé</th>
                                    <th class="sorting">Valeur</th>
                                    <th class="sorting">Commentaire</th>
                                    <th>Options</th>
                                </tr>
                                <!-- end row -->
                            </thead>
                            <tbody>
                                <!-- start row -->
                                {% for param in params %}
                                <tr>
                                    <td>{{ param.groupe }}</td>
                                    <td>{{ param.cle }}</td>
                                    <td>{{ param.valeur }}</td>
                                    <td>{{ param.commentaire }}</td>
                                    <td>
                                        <a href="{{ path('adminCarteCadeauEdit', {'id': param.id}) }}" class="btn px-2 rounded-pill btn-warning btn-xs" role="button">Modifier</a>
                                        <a href="#" class="btn px-2 rounded-pill btn-danger btn-xs" role="button">Supprimer</a>
                                        {# double vérification avant suppression ? Via un modal ? #}
                                    </td>
                                </tr>
                                {% endfor %}
                                <!-- end row -->
                            </tbody>
                            <tfoot>
                                <!-- start row -->
                                <tr>
                                    <th class="sorting">Groupe</th>
                                    <th class="sorting">Clé</th>
                                    <th class="sorting">Valeur</th>
                                    <th class="sorting">Commentaire</th>
                                    <th>Options</th>
                                </tr>
                                <!-- end row -->
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
            <!-- ---------------------
                            end Default Basic Forms
                        ---------------- -->
        </div>
    </div>
    <!-- /.row -->
    <!-- -------------------------------------------------------------- -->
    <!-- End PAge Content -->
    <!-- -------------------------------------------------------------- -->
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js">
</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js">
</script>
<script type="text/javascript"
    src="https://cdn.datatables.net/v/bs5/jq-3.6.0/jszip-2.5.0/dt-1.11.5/af-2.3.7/b-2.2.2/b-colvis-2.2.2/b-html5-2.2.2/b-print-2.2.2/date-1.1.2/fh-3.2.2/r-2.2.9/sb-1.3.2/sp-2.0.0/sl-1.3.4/datatables.min.js">
</script>

<script type="text/javascript">
    $('#myTable').DataTable({});
</script>

{% endblock %}